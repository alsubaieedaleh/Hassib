<h3 style="margin:6px 0">Session Summary</h3>

@if (lines().length > 0) {
  <div #reportRoot>
    <div class="summary">
      @for (m of metrics(); track m.label) {
        <div class="metric">
          <span class="small">{{ m.label }}</span>
          <span>{{ m.value() }}</span>
        </div>
      }
    </div>

    <div style="margin-top:10px">
      <div class="small">Payment Breakdown</div>
      <div class="payment-break">{{ paymentBreakdownText() }}</div>
    </div>
  </div>

  <div class="actions">
    @for (a of actions(); track a.key) {
      <button class="{{ a.css }}" (click)="a.run()">{{ a.label }}</button>
    }
  </div>
} @else {
  <div class="small" style="color:var(--muted)">No session lines yet.</div>
}

<div class="footer-note small mobile-hide">
  Tip: Use the export as a quick record at shift-end. No data leaves your device unless you choose to share.
</div>
