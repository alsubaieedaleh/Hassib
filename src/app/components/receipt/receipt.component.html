<ui-card class="receipt-card print:p-0 print:shadow-none print:border-none text-sm" uiCardVariant="surface" [uiCardInteractive]="false">
  <div class="receipt-card__header">
    <div>
      <h2>Receipt</h2>
      <p class="muted text-xs">Lightweight summary ready for printing or export.</p>
    </div>
    <button uiButton="ghost" uiButtonSize="sm" class="print:hidden" (click)="print()">
      <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M6 9V4h12v5" />
        <path d="M6 13h12v7H6z" />
        <path d="M6 17h12" />
        <circle cx="18" cy="13" r="1" />
      </svg>
      Print
    </button>
  </div>

  <div class="receipt-card__meta">
    <div class="receipt-meta">
      <span class="receipt-meta__label">Customer</span>
      <span class="receipt-meta__value">{{ phone || 'â€”' }}</span>
    </div>
    <div class="receipt-meta">
      <span class="receipt-meta__label">Payment</span>
      <span class="receipt-meta__value">{{ payment }}</span>
    </div>
  </div>

  <div class="table-scroll receipt-card__table">
    <table class="ui-table ui-table--compact">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Product</th>
          <th scope="col">Qty</th>
          <th scope="col">Price</th>
          <th scope="col">Total</th>
        </tr>
      </thead>
      <tbody>
        @for (line of lines(); track line.name) {
          <tr>
            <td>{{ $index + 1 }}</td>
            <td>{{ line.name }}</td>
            <td>{{ line.qty }}</td>
            <td>SAR {{ line.price.toFixed(2) }}</td>
            <td>SAR {{ line.grossTotal.toFixed(2) }}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="receipt-card__total">
    <span class="muted text-xs uppercase tracking-widest">VAT included</span>
    <span class="receipt-total">Total: SAR {{ total.toFixed(2) }}</span>
  </div>
</ui-card>
